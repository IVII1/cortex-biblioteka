<section class="w-screen h-screen pl-[80px] pb-2 text-gray-700">
  <!-- Heading of content -->
  <div class="heading">
    <div class="flex flex-row justify-between border-b-[1px] border-[#e4dfdf]">
      <div class="py-[10px] flex flex-row">
        <div class="w-[77px] pl-[30px]">
          <img [src]="book.photo" alt="" />
        </div>
        <div class="pl-[15px] flex flex-col">
          <div>
            <h1>{{ book.title }}</h1>
          </div>
          <div>
            <nav class="w-full rounded">
              <ol class="flex list-reset">
                <li>
                  <a
                    [routerLink]="['/books']"
                    class="text-[#2196f3] hover:text-blue-600"
                  >
                    Evidencija knjiga
                  </a>
                </li>
                <li>
                  <span class="mx-2">/</span>
                </li>
                <li>
                  <p class="text-[#2196f3]">KNJIGA {{ book.id }}</p>
                </li>
              </ol>
            </nav>
          </div>
        </div>
      </div>
      <div class="pt-[24px] mr-[30px]">
        <a
          [routerLink]="['/books/discard', book.id]"
          class="inline hover:text-blue-600"
        >
          <i class="fas fa-level-up-alt mr-[3px]"></i>
          Otpisi knjigu
        </a>
        <a
          [routerLink]="['/books/borrow', book.id]"
          class="inline hover:text-blue-600 ml-[20px] pr-[10px]"
        >
          <i class="far fa-hand-scissors mr-[3px]"></i>
          Izdaj knjigu
        </a>
        <a
          [routerLink]="['/books/return', book.id]"
          class="hover:text-blue-600 inline ml-[20px] pr-[10px]"
        >
          <i class="fas fa-redo-alt mr-[3px]"></i>
          Vrati knjigu
        </a>
        <a
          [routerLink]="['/books/reserve', book.id]"
          class="hover:text-blue-600 inline ml-[20px] pr-[10px]"
        >
          <i class="far fa-calendar-check mr-[3px]"></i>
          Rezervisi knjigu
        </a>
        <p
          class="inline cursor-pointer text-[25px] py-[10px] pl-[30px] border-l-[1px] border-[#e4dfdf] dotsKnjigaOsnovniDetalji hover:text-[#606FC7]"
          (click)="toggleMenu(book.id)"
        >
          <i class="fas fa-ellipsis-v"></i>
        </p>
        <div
          class="z-10 transition-all duration-300 origin-top-right transform scale-95 -translate-y-2 dropdown-knjiga-osnovni-detalji relative"
          [ngClass]="{ hidden: openMenuId !== book.id }"
        >
          <div
            class="absolute right-0 w-56 mt-[7px] origin-top-right bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg outline-none"
            aria-labelledby="headlessui-menu-button-1"
            id="headlessui-menu-items-117"
            role="menu"
          >
            <div class="py-1">
              <a
                [routerLink]="['/books/edit', book.id]"
                tabindex="0"
                class="flex w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 outline-none hover:text-blue-600 z-50"
                role="menuitem"
              >
                <i class="fas fa-edit mr-[1px] ml-[5px] py-1"></i>
                <span class="px-4 py-0">Izmijeni knjigu</span>
              </a>
              <button
                (click)="deleteBook(book.id)"
                tabindex="0"
                class="flex w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 outline-none hover:text-blue-600"
                role="menuitem"
              >
                <i class="fa fa-trash mr-[5px] ml-[5px] py-1"></i>
                <span class="px-4 py-0">Izbrisi knjigu</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <mat-tab-group>
    <mat-tab label="Overview">
      <div class="flex flex-row overflow-auto height-osnovniDetalji">
        <div class="w-[80%]">
          <div class="">
            <!-- Space for content -->
            <div class="pl-[30px] section- mt-[20px]">
              <div class="flex flex-row justify-between">
                <div class="mr-[30px]">
                  <div class="mt-[20px]">
                    <span class="text-gray-500 text-[14px]">Naziv knjige</span>
                    <p class="font-medium">{{ book.title }}</p>
                  </div>
                  <div class="mt-[40px]">
                    <span class="text-gray-500 text-[14px]">Zanr</span>
                    @for (genre of book.genres; track genre.id) {
                      <p class="font-medium">
                        {{ genre.name }}
                      </p>
                    }
                  </div>
                  <div class="mt-[40px]">
                    <span class="text-gray-500 text-[14px]">Kategorija</span>
                    @for (category of book.categories; track category.id) {
                      <p class="font-medium">
                        {{ category.name }}
                      </p>
                    }
                  </div>

                  <div class="mt-[40px]">
                    <span class="text-gray-500 text-[14px]">Autor/ri</span>
                    @for (author of book.authors; track author.id) {
                      <p class="font-medium">
                        {{ author.name }} {{ author.surname }}
                      </p>
                    }
                  </div>

                  <div class="mt-[40px]">
                    <span class="text-gray-500 text-[14px]">Izdavac</span>
                    <p class="font-medium">{{ book.publisher.name }}</p>
                  </div>
                  <div class="mt-[40px]">
                    <span class="text-gray-500 text-[14px]"
                      >Godina izdavanja</span
                    >
                    <p class="font-medium">{{ book.pDate }}</p>
                  </div>
                </div>
                <div class="mr-[70px] mt-[20px] flex flex-col max-w-[600px]">
                  <div>
                    <h4 class="text-gray-500">Storyline (Kratki sadrzaj)</h4>
                    <p class="my-[10px]">{{ book.description }}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <app-book-stats></app-book-stats>
      </div>
    </mat-tab>
    <mat-tab label="Specifications">
      <div class="flex flex-row overflow-auto height-osnovniDetalji">
        <div class="w-[80%]">
          <div class="">
            <!-- Space for content -->
            <div class="pl-[30px] section- mt-[20px]">
              <div class="flex flex-row justify-between">
                <div class="mr-[30px]">
                  <div class="mt-[20px]">
                    <span class="text-gray-500 text-[14px]">Broj strana</span>
                    <p class="font-medium">{{ book.pages }}</p>
                  </div>
                  <div class="mt-[40px]">
                    <span class="text-gray-500 text-[14px]">Pismo</span>
                    <p class="font-medium">{{ book.script.name }}</p>
                  </div>
                  <div class="mt-[40px]">
                    <span class="text-gray-500 text-[14px]">Jezik</span>
                    <p class="font-medium">{{ book.language.name }}</p>
                  </div>
                  <div class="mt-[40px]">
                    <span class="text-gray-500 text-[14px]">Povez</span>
                    <p class="font-medium">{{ book.bookbind.name }}</p>
                  </div>
                  <div class="mt-[40px]">
                    <span class="text-gray-500 text-[14px]">Format</span>
                    <p class="font-medium">{{ book.format.name }}</p>
                  </div>
                  <div class="mt-[40px]">
                    <span class="text-gray-500 text-[14px]"
                      >International Standard Book Number (ISBN)</span
                    >
                    <p class="font-medium">{{ book.isbn }}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="min-w-[20%] border-l-[1px] border-[#e4dfdf]">
          <app-book-stats></app-book-stats>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
</section>
