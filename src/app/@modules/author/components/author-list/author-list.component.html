<section class="w-screen h-screen pl-[80px] py-4 text-gray-700">
  <div class="height-autori pb-[30px] scroll">
    <app-page-header title="Authors"></app-page-header>
    <app-search-add-new buttonName="Add Author"></app-search-add-new>
    <div
      class="inline-block min-w-full px-[30px] pt-3 align-middle bg-white rounded-bl-lg rounded-br-lg shadow-dashboard"
    >
      @if (!isLoading) {
        <table
          class="overflow-hidden shadow-lg rounded-xl min-w-full border-[1px] border-[#e4dfdf]"
          id="myTable"
        >
          <thead class="bg-[#EFF3F6]"></thead>

          <tbody class="bg-white">
            @for (author of authors; track author.id) {
              <tr
                class="hover:bg-gray-200 hover:shadow-md border-b-[1px] border-[#e4dfdf]"
              >
                <td class="px-4 py-3 whitespace-no-wrap">
                  <label class="inline-flex items-center">
                    <input type="checkbox" class="form-checkbox" />
                  </label>
                </td>
                <td class="flex flex-row items-center px-4 py-3">
                  <a [routerLink]="[author.id]">
                    <span class="mr-2 font-medium text-center"
                      >{{ author.name }} {{ author.surname }}</span
                    >
                  </a>
                </td>
                <td class="px-4 py-3 text-sm leading-5 whitespace-no-wrap">
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem
                  at ex, modi iste nam error quia quasi aliquid itaque est natus
                  incidunt sint dolorem pariatur. Unde eveniet recusandae et
                  sit.
                </td>
                <td
                  class="px-4 py-3 text-sm leading-5 text-right whitespace-no-wrap"
                >
                  <p
                    class="inline cursor-pointer text-[20px] py-[10px] px-[30px] border-gray-300 dots hover:text-[#606FC7]"
                    (click)="toggleMenu(author.id!)"
                  >
                    <i class="fas fa-ellipsis-v"></i>
                  </p>
                  <div
                    class="relative z-10 transition-all duration-300 origin-top-right transform scale-95 -translate-y-2 dropdown-autori"
                    [ngClass]="{ hidden: openMenuId !== author.id }"
                  >
                    <div
                      class="absolute right-[25px] w-56 mt-[7px] origin-top-right bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg outline-none"
                      aria-labelledby="headlessui-menu-button-1"
                      id="headlessui-menu-items-117"
                      role="menu"
                    >
                      <div class="py-1">
                        <a
                          [routerLink]="['/authors/' + author.id]"
                          tabindex="0"
                          class="flex w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 outline-none hover:text-blue-600"
                          role="menuitem"
                        >
                          <i class="far fa-file mr-[5px] ml-[5px] py-1"></i>
                          <span class="px-4 py-0">Pogledaj Detalje</span>
                        </a>
                        <a
                          tabindex="0"
                          class="flex w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 outline-none hover:text-blue-600"
                          role="menuitem"
                          [routerLink]="['edit', author.id]"
                        >
                          <i class="fas fa-edit mr-[1px] ml-[5px] py-1"></i>
                          <span class="px-4 py-0">Izmijeni Autora</span>
                        </a>
                        <a
                          (click)="deleteAuthor(author.id!)"
                          tabindex="0"
                          class="clickable flex w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 outline-none hover:text-blue-600"
                          role="menuitem"
                        >
                          <i class="fa fa-trash mr-[5px] ml-[5px] py-1"></i>
                          <span class="px-4 py-0">Izbri≈°i autora</span>
                        </a>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
            }
          </tbody>
        </table>
      } @else {
        <h1 class="flex justify-center text-center">Loading...</h1>
      }
    </div>
  </div>
</section>
